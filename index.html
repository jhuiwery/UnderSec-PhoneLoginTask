<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UnderSec-Login | HTML Edition</title>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        :root {
            --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;
        }

        body {
            font-family: var(--font-sans);
        }

        .fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }

        .fade-out {
            animation: fadeOut 0.3s ease-in forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-10px); }
        }

        [confirm-hidden] {
            display: none !important;
        }
    </style>
</head>
<body class="bg-zinc-50 text-zinc-900 antialiased min-h-screen flex flex-col items-center justify-center p-4 relative overflow-hidden">
    
    <!-- Background Decoration -->
    <div class="absolute top-0 left-0 w-full h-full -z-10 overflow-hidden pointer-events-none">
        <div class="absolute -top-24 -left-24 w-96 h-96 bg-emerald-100 rounded-full blur-3xl opacity-50"></div>
        <div class="absolute -bottom-24 -right-24 w-96 h-96 bg-blue-100 rounded-full blur-3xl opacity-50"></div>
    </div>

    <!-- Login View -->
    <main id="login-view" class="w-full max-w-md relative fade-in">
        <div class="bg-white rounded-3xl shadow-xl shadow-zinc-200/50 border border-zinc-100 p-8 md:p-10 relative overflow-hidden">
            <!-- Language Toggle -->
            <button id="lang-toggle" class="absolute top-6 right-6 p-2 text-zinc-400 hover:text-zinc-900 hover:bg-zinc-50 rounded-xl transition-all flex items-center gap-2 text-xs font-bold uppercase tracking-wider">
                <i data-lucide="languages" class="w-4 h-4"></i>
                <span id="lang-text">EN</span>
            </button>

            <div class="flex flex-col items-center mb-8">
                <div class="w-16 h-16 bg-emerald-50 rounded-2xl flex items-center justify-center mb-4">
                    <i data-lucide="shield-check" class="w-8 h-8 text-emerald-600"></i>
                </div>
                <h1 id="ui-title" class="text-2xl font-bold text-zinc-900">安全登录</h1>
                <p id="ui-subtitle" class="text-zinc-500 mt-2 text-center">请输入您的手机号以继续</p>
            </div>

            <form id="login-form" class="space-y-6">
                <div class="space-y-2">
                    <label id="ui-phone-label" class="text-sm font-medium text-zinc-700 ml-1">手机号码</label>
                    <div class="relative">
                        <i data-lucide="smartphone" class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-400"></i>
                        <input type="tel" id="phone-input" placeholder="输入手机号" class="w-full pl-12 pr-4 py-3.5 bg-zinc-50 border border-zinc-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all">
                    </div>
                </div>

                <div class="space-y-2">
                    <label id="ui-otp-label" class="text-sm font-medium text-zinc-700 ml-1">验证码</label>
                    <div class="flex gap-3">
                        <div class="relative flex-1">
                            <i data-lucide="lock" class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-400"></i>
                            <input type="text" id="otp-input" maxlength="4" placeholder="4位验证码" class="w-full pl-12 pr-4 py-3.5 bg-zinc-50 border border-zinc-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all">
                        </div>
                        <button type="button" id="get-otp-btn" class="px-4 py-3.5 bg-zinc-900 text-white rounded-xl font-medium text-sm hover:bg-zinc-800 disabled:bg-zinc-200 disabled:text-zinc-500 transition-colors min-w-[100px]">
                            获取验证码
                        </button>
                    </div>
                </div>

                <p id="error-msg" class="text-red-500 text-sm font-medium ml-1 hidden"></p>

                <button type="submit" id="login-btn" disabled class="w-full py-4 bg-emerald-600 text-white rounded-xl font-semibold shadow-lg shadow-emerald-600/20 hover:bg-emerald-700 disabled:bg-zinc-200 disabled:shadow-none transition-all flex items-center justify-center gap-2">
                    立即登录
                </button>
            </form>
        </div>
    </main>

    <!-- Success View -->
    <main id="success-view" class="w-full max-w-md relative fade-in hidden">
        <button id="back-btn" class="absolute -top-16 left-0 flex items-center gap-2 text-zinc-500 hover:text-zinc-900 transition-colors font-medium group">
            <div class="w-8 h-8 rounded-full bg-white shadow-sm border border-zinc-100 flex items-center justify-center group-hover:bg-zinc-50 transition-colors">
                <i data-lucide="arrow-left" class="w-4 h-4"></i>
            </div>
            <span id="ui-back-text">返回登录</span>
        </button>

        <div class="bg-white rounded-3xl shadow-xl shadow-zinc-200/50 border border-zinc-100 p-12 text-center">
            <div class="w-20 h-20 bg-emerald-50 rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="check-circle-2" class="w-10 h-10 text-emerald-600"></i>
            </div>
            <h2 id="ui-success-title" class="text-3xl font-bold text-zinc-900">登录成功</h2>
            <p id="ui-success-subtitle" class="text-zinc-500 mt-4 text-lg">欢迎回来，您的身份已通过验证。</p>
            <div class="mt-10 pt-10 border-t border-zinc-100">
                <p id="ui-footer-note" class="text-sm text-zinc-400">这是一个用于网络安全教学的模拟环境</p>
            </div>
        </div>
    </main>

    <!-- OTP Hint -->
    <div id="otp-hint" class="fixed bottom-8 right-8 flex items-end gap-3 hidden">
        <div class="bg-zinc-900 text-white px-4 py-3 rounded-2xl shadow-2xl flex items-center gap-4 border border-zinc-800">
            <div class="flex flex-col">
                <span id="ui-hint-label" class="text-[10px] uppercase tracking-wider text-zinc-500 font-bold">模拟验证码</span>
                <span id="hint-value" class="font-mono text-lg tracking-widest font-bold">••••</span>
            </div>
            <button id="hint-toggle-btn" class="p-2 hover:bg-zinc-800 rounded-lg transition-colors text-zinc-400 hover:text-white">
                <i data-lucide="eye" id="hint-eye-icon" class="w-5 h-5"></i>
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="fixed bottom-6 left-1/2 -translate-x-1/2 text-zinc-400 text-xs font-medium">
        UnderSec Lab &copy; <span id="year"></span>
    </footer>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();
        document.getElementById('year').textContent = new Date().getFullYear();

        // State
        let currentLang = 'zh';
        let generatedOtp = '';
        let isHintVisible = false;
        let countdown = 0;
        let timer = null;

        const translations = {
            zh: {
                title: '安全登录',
                subtitle: '请输入您的手机号以继续',
                phoneLabel: '手机号码',
                phonePlaceholder: '输入手机号',
                otpLabel: '验证码',
                otpPlaceholder: '4位验证码',
                getOtp: '获取验证码',
                loginBtn: '立即登录',
                backBtn: '返回登录',
                successTitle: '登录成功',
                successSubtitle: '欢迎回来，您的身份已通过验证。',
                footerNote: '这是一个用于网络安全教学的模拟环境',
                hintLabel: '模拟验证码',
                errorPhone: '请输入有效的手机号',
                errorOtp: '请输入验证码',
                errorVerify: '验证码错误，请重试',
                toggleText: 'EN'
            },
            en: {
                title: 'Secure Login',
                subtitle: 'Please enter your phone number to continue',
                phoneLabel: 'Phone Number',
                phonePlaceholder: 'Enter phone number',
                otpLabel: 'Verification Code',
                otpPlaceholder: '4-digit code',
                getOtp: 'Get Code',
                loginBtn: 'Login Now',
                backBtn: 'Back to Login',
                successTitle: 'Login Successful',
                successSubtitle: 'Welcome back, your identity has been verified.',
                footerNote: 'This is a simulation environment for cybersecurity education',
                hintLabel: 'Mock OTP',
                errorPhone: 'Please enter a valid phone number',
                errorOtp: 'Please enter verification code',
                errorVerify: 'Invalid code, please try again',
                toggleText: '中文'
            }
        };

        // DOM Elements
        const loginView = document.getElementById('login-view');
        const successView = document.getElementById('success-view');
        const phoneInput = document.getElementById('phone-input');
        const otpInput = document.getElementById('otp-input');
        const getOtpBtn = document.getElementById('get-otp-btn');
        const loginBtn = document.getElementById('login-btn');
        const errorMsg = document.getElementById('error-msg');
        const langToggle = document.getElementById('lang-toggle');
        const langText = document.getElementById('lang-text');
        const otpHint = document.getElementById('otp-hint');
        const hintValue = document.getElementById('hint-value');
        const hintToggleBtn = document.getElementById('hint-toggle-btn');
        const loginForm = document.getElementById('login-form');
        const backBtn = document.getElementById('back-btn');

        // Functions
        function updateUI() {
            const t = translations[currentLang];
            document.getElementById('ui-title').textContent = t.title;
            document.getElementById('ui-subtitle').textContent = t.subtitle;
            document.getElementById('ui-phone-label').textContent = t.phoneLabel;
            phoneInput.placeholder = t.phonePlaceholder;
            document.getElementById('ui-otp-label').textContent = t.otpLabel;
            otpInput.placeholder = t.otpPlaceholder;
            if (countdown === 0) getOtpBtn.textContent = t.getOtp;
            loginBtn.textContent = t.loginBtn;
            document.getElementById('ui-back-text').textContent = t.backBtn;
            document.getElementById('ui-success-title').textContent = t.successTitle;
            document.getElementById('ui-success-subtitle').textContent = t.successSubtitle;
            document.getElementById('ui-footer-note').textContent = t.footerNote;
            document.getElementById('ui-hint-label').textContent = t.hintLabel;
            langText.textContent = t.toggleText;
        }

        function showError(msg) {
            errorMsg.textContent = msg;
            errorMsg.classList.remove('hidden');
        }

        function hideError() {
            errorMsg.classList.add('hidden');
        }

        function startCountdown() {
            countdown = 60;
            getOtpBtn.disabled = true;
            timer = setInterval(() => {
                countdown--;
                getOtpBtn.textContent = `${countdown}s`;
                if (countdown <= 0) {
                    clearInterval(timer);
                    getOtpBtn.disabled = false;
                    getOtpBtn.textContent = translations[currentLang].getOtp;
                }
            }, 1000);
        }

        // Event Listeners
        langToggle.addEventListener('click', () => {
            currentLang = currentLang === 'zh' ? 'en' : 'zh';
            updateUI();
        });

        phoneInput.addEventListener('input', (e) => {
            e.target.value = e.target.value.replace(/\D/g, '');
        });

        otpInput.addEventListener('input', (e) => {
            e.target.value = e.target.value.replace(/\D/g, '');
        });

        getOtpBtn.addEventListener('click', () => {
            const phone = phoneInput.value;
            if (!phone || phone.length < 10) {
                showError(translations[currentLang].errorPhone);
                return;
            }
            hideError();
            getOtpBtn.innerHTML = '<i data-lucide="loader-2" class="w-5 h-5 animate-spin mx-auto"></i>';
            lucide.createIcons();

            setTimeout(() => {
                generatedOtp = Math.floor(1000 + Math.random() * 9000).toString();
                otpHint.classList.remove('hidden');
                hintValue.textContent = isHintVisible ? generatedOtp : '••••';
                loginBtn.disabled = false;
                startCountdown();
            }, 1200);
        });

        hintToggleBtn.addEventListener('click', () => {
            isHintVisible = !isHintVisible;
            hintValue.textContent = isHintVisible ? generatedOtp : '••••';
            const icon = isHintVisible ? 'eye-off' : 'eye';
            hintToggleBtn.innerHTML = `<i data-lucide="${icon}" class="w-5 h-5"></i>`;
            lucide.createIcons();
        });

        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const otp = otpInput.value;
            if (!otp) {
                showError(translations[currentLang].errorOtp);
                return;
            }
            
            loginBtn.innerHTML = '<i data-lucide="loader-2" class="w-5 h-5 animate-spin"></i>';
            lucide.createIcons();
            hideError();

            setTimeout(() => {
                if (otp === generatedOtp) {
                    loginView.classList.add('hidden');
                    successView.classList.remove('hidden');
                } else {
                    showError(translations[currentLang].errorVerify);
                    loginBtn.textContent = translations[currentLang].loginBtn;
                }
            }, 1000);
        });

        backBtn.addEventListener('click', () => {
            successView.classList.add('hidden');
            loginView.classList.remove('hidden');
            phoneInput.value = '';
            otpInput.value = '';
            generatedOtp = '';
            otpHint.classList.add('hidden');
            loginBtn.disabled = true;
            loginBtn.textContent = translations[currentLang].loginBtn;
            if (timer) clearInterval(timer);
            countdown = 0;
            getOtpBtn.disabled = false;
            getOtpBtn.textContent = translations[currentLang].getOtp;
        });

        // Initial UI
        updateUI();
    </script>
</body>
</html>
